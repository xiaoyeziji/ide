# RDS {#concept_z3f_ryf_xgb .concept}

阿里云关系型数据库（Relational Database Service，简称 RDS）是一种稳定可靠、可弹性伸缩的在线数据库服务。更多信息请参考[创建云数据库（RDS和DRDS）维表](../../../../../cn.zh-CN/使用指南/Flink SQL/DDL语句/创建数据维表/创建云数据库（RDS和DRDS）维表.md#)。

## 配置面板说明 {#section_h1d_tyf_xgb .section}

|参数|注释说明|备注|
|--|----|--|
|血缘表名\(任务唯一\)|任务中表的唯一标志，不能与任务中其他表血缘表名重名| |
|地址|地址|地址请参见[RDS的URL地址](../../../../../cn.zh-CN/RDS for MySQL 快速入门/初始化配置/申请外网地址.md#)及[DRDS的URL地址](https://help.aliyun.com/document_detail/50084.html?spm=a2c4g.11186623.6.553.wR7Itn)|
|表名|表名|无|
|用户名|用户名|无|
|密码|密码|无|
|和数据集成同步|从元数据中心读取指定表名的元数据帮助填充输出字段和其他元信息表单项|无|
|选择输出字段|从维表中读取输出到下游组件的字段列表|无|
|最大尝试插入次数|最大尝试插入次数|无|
|缓存策略|缓存策略|可选None、LRU或ALL|
|缓存大小|缓存大小|当选择 `LRU` 缓存策略后，可以设置缓存大小|
|缓存超时时间，单位毫秒|缓存超时时间，单位毫秒|当选择 `LRU` 缓存策略后，可以设置缓存失效的超时时间，默认不过期。当选择 `ALL` 策略，则为缓存reload 的间隔时间，默认不重新加载|
|更新时间黑名单|缓存策略选择`ALL` 时启用。更新时间黑名单，防止在此时间内做cache 更新。（如双11场景）|自定义输入格式为```
2017-10-24 14:00 -> 2017-10-24 15:00, 2017-11-10 23:30 -> 2017-11-11 08:00
```

。用逗号`,`来分隔多个黑名单，用箭头`->`来分割黑名单的起始结束时间|
|primaryKey|指定输出字段中作为主键的字段|声明一个维表时，必须要指名主键。维表JOIN的时候，ON的条件必须包含所有主键的等值条件。RDS或DRDS的主键可以定义为表的主键或是唯一索引列|

## 说明 {#section_gtt_5yf_xgb .section}

-   目前RDS/DRDS提供如下三种缓存策略：

    -   None：无缓存
    -   LRU：最近使用策略缓存。需要配置相关参数：缓存大小（cacheSize）和 缓存超时时间（cacheTTLMs）
    -   ALL：全量缓存策略
    在Job运行前会将远程表中所有数据load到内存中，之后所有的维表查询都会通过 cache进行。cache命中不到则不存在数据，并在缓存过期后重新加载一遍全量缓存。全量缓存策略适合远程表数据量小、miss key多的场景。全量缓存相关配置：缓存更新间隔（cacheTTLMs），更新时间黑名单（cacheReloadTimeBlackList）。

-   由于异步reload，使用cache all时，需要将维表JOIN的节点增加一些内存，增加的内存大小为远程表两倍的数据量。
-   使用cache all，请特别注意节点的内存，防止内存溢出。

